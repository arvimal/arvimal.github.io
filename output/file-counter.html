<!DOCTYPE html>
<html lang="en">
<head>
        <meta charset="utf-8" />
        <title>Recursive file counter in bash</title>
        <link rel="stylesheet" href="/theme/css/main.css" />
</head>

<body id="index" class="home">
        <header id="banner" class="body">
                <h1><a href="/">arvimal.blog </a></h1>
                <nav><ul>
                    <li><a href="/category/ceph.html">Ceph</a></li>
                    <li><a href="/category/ceph-programming-python.html">Ceph, Programming, Python</a></li>
                    <li><a href="/category/data-structures-and-algorithms-programming.html">Data Structures and Algorithms, Programming</a></li>
                    <li><a href="/category/data-structures-and-algorithms-programming-python.html">Data Structures and Algorithms, Programming, Python</a></li>
                    <li><a href="/category/linux-programming.html">Linux, Programming</a></li>
                    <li><a href="/category/misc.html">Misc</a></li>
                    <li class="active"><a href="/category/programming.html">Programming</a></li>
                    <li><a href="/category/programming-python.html">Programming, Python</a></li>
                    <li><a href="/category/techno.html">Techno</a></li>
                </ul></nav>
        </header><!-- /#banner -->
<section id="content" class="body">
  <article>
    <header>
      <h1 class="entry-title">
        <a href="/file-counter.html" rel="bookmark"
           title="Permalink to Recursive file counter in bash">Recursive file counter in bash</a></h1>
    </header>

    <div class="entry-content">
<footer class="post-info">
        <abbr class="published" title="2008-02-15T17:52:00+01:00">
                Published: Fri 15 February 2008
        </abbr>

        <address class="vcard author">
                By                         <a class="url fn" href="/author/arvimal.html">arvimal</a>
        </address>
<p>In <a href="/category/programming.html">Programming</a>.</p>
<p>tags: <a href="/tag/file-counter.html">file counter</a> </p>
</footer><!-- /.post-info -->      <p>Most of the scripts presented in this journal have been created while learning bash and having nothing much to do...</p>
<p>I think its usual to get crazy ideas and work trying to implement them, especially while learning any type of coding.&nbsp; This&nbsp; 'File Counter' script came as such a&nbsp; crazy idea. It was working at the time of its creation, but have not checked it recently.. should work..</p>
<p>This script counts the entire number of files irrespective the folders under the main directory you specify for this script to work on. ie.. It recursively&nbsp; counts the files under a directory tree.</p>
<div class="line-block">
<div class="line">[code language=&quot;bash&quot;]</div>
<div class="line">#!/bin/bash</div>
</div>
<div class="line-block">
<div class="line">#&nbsp; Counts the number of files recursively inside a directory&nbsp;&nbsp;&nbsp; #</div>
<div class="line">#</div>
<div class="line">echo ; clear</div>
<div class="line">echo -e &quot;Please enter the directory location where you want the files to be counted...n&quot; ; echo</div>
</div>
<div class="line-block">
<div class="line">read dir ; echo ;&nbsp; if [ ! -d $dir ] ; then echo -e &quot;The location you specified doesn't exist.n&quot; ; exit 0;</div>
<div class="line">else cd $dir ; echo -e &quot;Please wait for the files to be counted.....n&quot; ; echo ; fi</div>
</div>
<div class="line-block">
<div class="line">X=`ls -l | wc -l`</div>
<div class="line">Y=`ls -l | grep ^d | awk '{print $9}'`</div>
<div class="line">B=`ls -l $Y | awk '{print $9}' | grep . | wc -l `</div>
<div class="line">A=`expr $X + $B`</div>
</div>
<p>echo -e &quot;There are a total of $A files inside the directory $dir...n&quot;</p>
<p>C=`ls -Rl | grep -v ./ | grep -v total | grep . | awk '{print $8}'`</p>
<div class="line-block">
<div class="line">echo -e &quot;Do you want to scan the directory for the file types?n&quot;</div>
<div class="line">echo -e &quot;Y/Nn&quot; ; read choice;</div>
<div class="line">if [ $choice = Y ] ;</div>
<div class="line">then cd $dir ; file $C | awk '{print $1,&quot;=======&gt;&gt;&quot;, $2}' &gt; $HOME/Filetype.txt;echo -e &quot;Output saved in file Filetype.txt.n&quot;</div>
<div class="line">elif [ $choice = N ] ; then echo -e &quot;Thankyou $USER, Take care....n&quot;</div>
<div class="line">else echo ; echo -e &quot;Invalid choice buddy...n&quot; ; echo -e &quot;Exiting.....Bye..n&quot; ;&nbsp; fi</div>
<div class="line">[/code]</div>
</div>

    </div><!-- /.entry-content -->

  </article>
</section>
        <section id="extras" class="body">
                <div class="blogroll">
                        <h2>links</h2>
                        <ul>
                            <li><a href="http://getpelican.com/">Pelican</a></li>
                            <li><a href="http://python.org/">Python.org</a></li>
                            <li><a href="http://jinja.pocoo.org/">Jinja2</a></li>
                            <li><a href="#">You can modify those links in your config file</a></li>
                        </ul>
                </div><!-- /.blogroll -->
                <div class="social">
                        <h2>social</h2>
                        <ul>

                            <li><a href="#">You can add links in your config file</a></li>
                            <li><a href="#">Another social link</a></li>
                        </ul>
                </div><!-- /.social -->
        </section><!-- /#extras -->

        <footer id="contentinfo" class="body">
                <address id="about" class="vcard body">
                Proudly powered by <a href="http://getpelican.com/">Pelican</a>, which takes great advantage of <a href="http://python.org">Python</a>.
                </address><!-- /#about -->

                <p>The theme is by <a href="http://coding.smashingmagazine.com/2009/08/04/designing-a-html-5-layout-from-scratch/">Smashing Magazine</a>, thanks!</p>
        </footer><!-- /#contentinfo -->

</body>
</html>