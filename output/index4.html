<!DOCTYPE html>
<html lang="en">
<head>

    <meta charset="utf-8">
    <title>arvimal.github.io</title>
    <meta name="description" content="">
    <meta name="author" content="Vimal A.R">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- Le HTML5 shim, for IE6-8 support of HTML elements -->
    <!--[if lt IE 9]>
    <script src="https://arvimal.github.io/theme/html5.js"></script>
    <![endif]-->


    <!-- Le styles -->
    <link href="https://netdna.bootstrapcdn.com/twitter-bootstrap/2.1.1/css/bootstrap.no-icons.min.css" rel="stylesheet">
    <link href="https://arvimal.github.io/theme/local.css" rel="stylesheet">
    <link href="https://arvimal.github.io/theme/pygments.css" rel="stylesheet">
    <link href="https://arvimal.github.io/theme/font-awesome.css" rel="stylesheet">
    <link href='https://fonts.googleapis.com/css?family=Gudea:400,400italic|Alegreya+SC' rel='stylesheet' type='text/css'>

</head>

<body>
<header class="blog-header">
  <div class="container">
    <div class="row-fluid">
      <div class="span9">
	<a href="https://arvimal.github.io" class="brand">arvimal.github.io</a>
      </div>

      <div class="span3" id="blog-nav">
	<ul class="nav nav-pills pull-right">
	    <li >
	      <a href="https://arvimal.github.io/category/misc.html ">misc</a>
	</ul>
      </div>
    </div> <!-- End of fluid row-->
  </div>   <!-- End of Container-->
</header>
    
<div class="container">
    <div class="content">
    <div class="row-fluid">

        <div class="span10">
        

        



    <div class='row-fluid'>
      <div class='article-title span9'> 
        <a href="https://arvimal.github.io/custom-crush-rulesets-and-pools.html"><h1>"Custom CRUSH rulesets and pools"</h1></a>
      </div>
    </div>
    <div class="row-fluid">
      <div class="span2">
<p>September 23, 2015 </p>

<p style="text-align: left;">
Filed under <a href="https://arvimal.github.io/category/misc.html">misc</a>
</p>
<p style="text-align: left;">
</p>
<p>
</p>
      </div>
      <div class="summary span8">
	<h2>- "ceph"</h2>
<p>Ceph supports custom rulesets via <a href="http://ceph.com/papers/weil-crush-sc06.pdf">CRUSH</a>, which can be used to sort hardware based on various features such as speed and other factors, set custom weights, and do a lot of other useful things.</p>
<p>Pools, or the buckets were the data is written to, can be created on the …</p> 
	<a class="btn btn-mini xsmall" href="https://arvimal.github.io/custom-crush-rulesets-and-pools.html">
          <i class="icon-plus-sign"></i> Read More </a>
	<hr />
      </div>
      
    </div>
      

 
        



    <div class='row-fluid'>
      <div class='article-title span9'> 
        <a href="https://arvimal.github.io/osd-information-in-a-scriptable-format.html"><h1>"OSD information in a scriptable format"</h1></a>
      </div>
    </div>
    <div class="row-fluid">
      <div class="span2">
<p>September 18, 2015 </p>

<p style="text-align: left;">
Filed under <a href="https://arvimal.github.io/category/misc.html">misc</a>
</p>
<p style="text-align: left;">
</p>
<p>
</p>
      </div>
      <div class="summary span8">
	<ul>
<li>"ceph"
tags:</li>
<li>"ceph"</li>
<li>"osd"</li>
</ul>
<hr>
<p>In case you are trying to get the OSD ID and the corresponding node IP address mappings in a script-able format, use the following command:</p>
<blockquote>
<p># ceph osd find <OSD-num></p>
</blockquote>
<p>This will print the OSD number, the IP address, the host name, and the default root in the …</p> 
	<a class="btn btn-mini xsmall" href="https://arvimal.github.io/osd-information-in-a-scriptable-format.html">
          <i class="icon-plus-sign"></i> Read More </a>
	<hr />
      </div>
      
    </div>
      

 
        



    <div class='row-fluid'>
      <div class='article-title span9'> 
        <a href="https://arvimal.github.io/monitor-maps-how-to-edit-them.html"><h1>"Monitor maps, how to edit them?"</h1></a>
      </div>
    </div>
    <div class="row-fluid">
      <div class="span2">
<p>September 01, 2015 </p>

<p style="text-align: left;">
Filed under <a href="https://arvimal.github.io/category/misc.html">misc</a>
</p>
<p style="text-align: left;">
</p>
<p>
</p>
      </div>
      <div class="summary span8">
	<ul>
<li>"ceph"
tags:</li>
<li>"ceph"</li>
<li>"monitors"</li>
<li>"monmaptool"</li>
</ul>
<hr>
<p>The <strong>MON map</strong> is used by the monitors in a Ceph cluster, where they keep track of various attributes relevant to the working of the cluster.</p>
<p>Similar to the <a href="http://ceph.com/papers/weil-crush-sc06.pdf">CRUSH</a> map, a monitor map can be pulled out of the cluster, inspected, changed, and injected …</p> 
	<a class="btn btn-mini xsmall" href="https://arvimal.github.io/monitor-maps-how-to-edit-them.html">
          <i class="icon-plus-sign"></i> Read More </a>
	<hr />
      </div>
      
    </div>
      

 
        



    <div class='row-fluid'>
      <div class='article-title span9'> 
        <a href="https://arvimal.github.io/calculate-a-pg-id-from-the-hex-values-in-ceph-osd-debug-logs.html"><h1>"Calculate a PG id from the hex values in Ceph OSD debug logs"</h1></a>
      </div>
    </div>
    <div class="row-fluid">
      <div class="span2">
<p>August 30, 2015 </p>

<p style="text-align: left;">
Filed under <a href="https://arvimal.github.io/category/misc.html">misc</a>
</p>
<p style="text-align: left;">
</p>
<p>
</p>
      </div>
      <div class="summary span8">
	<ul>
<li>"ceph"</li>
<li>"programming"</li>
<li>"python"
tags:</li>
<li>"ceph"</li>
<li>"pg"</li>
<li>"python"</li>
</ul>
<hr>
<p>Recently, I had an incident where the OSDs were crashing at the time of startup. Obviously, the next step was to enable debug logs for the OSDs and understand where they were crashing.</p>
<p>Enabled OSD debug logs dynamically by injecting it with:</p>
<blockquote>
<p># ceph …</p></blockquote> 
	<a class="btn btn-mini xsmall" href="https://arvimal.github.io/calculate-a-pg-id-from-the-hex-values-in-ceph-osd-debug-logs.html">
          <i class="icon-plus-sign"></i> Read More </a>
	<hr />
      </div>
      
    </div>
      

 
        



    <div class='row-fluid'>
      <div class='article-title span9'> 
        <a href="https://arvimal.github.io/mapping-placement-groups-and-pools.html"><h1>"Mapping Placement Groups and Pools"</h1></a>
      </div>
    </div>
    <div class="row-fluid">
      <div class="span2">
<p>August 17, 2015 </p>

<p style="text-align: left;">
Filed under <a href="https://arvimal.github.io/category/misc.html">misc</a>
</p>
<p style="text-align: left;">
</p>
<p>
</p>
      </div>
      <div class="summary span8">
	<ul>
<li>"ceph"
tags:</li>
<li>"ceph"</li>
<li>"placement-groups"</li>
<li>"pool"</li>
</ul>
<hr>
<p>Understanding the mapping of Pools and Placement Groups can be very useful while troubleshooting Ceph problems.</p>
<p>A direct method is to dump information on the PGs via :</p>
<blockquote>
<p># ceph pg dump</p>
</blockquote>
<p>This command should output something like the following:</p>
<blockquote>
<p>pg_stat    objects    mip    degr    unf    bytes    log …</p></blockquote> 
	<a class="btn btn-mini xsmall" href="https://arvimal.github.io/mapping-placement-groups-and-pools.html">
          <i class="icon-plus-sign"></i> Read More </a>
	<hr />
      </div>
      
    </div>
      

 
        



    <div class='row-fluid'>
      <div class='article-title span9'> 
        <a href="https://arvimal.github.io/how-to-identify-the-journal-disk-for-a-ceph-osd.html"><h1>"How to identify the journal disk for a Ceph OSD?"</h1></a>
      </div>
    </div>
    <div class="row-fluid">
      <div class="span2">
<p>August 05, 2015 </p>

<p style="text-align: left;">
Filed under <a href="https://arvimal.github.io/category/misc.html">misc</a>
</p>
<p style="text-align: left;">
</p>
<p>
</p>
      </div>
      <div class="summary span8">
	<p>In many cases, one would like to understand the journal disk a particular OSD is using. There are two methods to understand this:</p>
<p>a) This is the most direct method, and should give you details on the OSD disks and the corresponding journal disks.</p>
<p>[sourcecode language="bash" gutter="false"]</p>
<p># ceph-disk …</p> 
	<a class="btn btn-mini xsmall" href="https://arvimal.github.io/how-to-identify-the-journal-disk-for-a-ceph-osd.html">
          <i class="icon-plus-sign"></i> Read More </a>
	<hr />
      </div>
      
    </div>
      

 
        



    <div class='row-fluid'>
      <div class='article-title span9'> 
        <a href="https://arvimal.github.io/resetting-calamari-password.html"><h1>"Resetting Calamari password"</h1></a>
      </div>
    </div>
    <div class="row-fluid">
      <div class="span2">
<p>July 13, 2015 </p>

<p style="text-align: left;">
Filed under <a href="https://arvimal.github.io/category/misc.html">misc</a>
</p>
<p style="text-align: left;">
</p>
<p>
</p>
      </div>
      <div class="summary span8">
	<ul>
<li>"ceph"
tags:</li>
<li>"calamari"</li>
<li>"ceph"</li>
</ul>
<hr>
<p>'<strong>Calamari</strong>' is the monitoring interface for a Ceph cluster.</p>
<p>The Calamari interface password can be reset/changed using the 'calamari-ctl' command.</p>
<blockquote>
<p># calamari-ctl change_password --password {password} {user-name}</p>
</blockquote>
<p><strong>calamari-ctl</strong> can also be used to add a user, as well as disable, enable, and rename the user account. A …</p> 
	<a class="btn btn-mini xsmall" href="https://arvimal.github.io/resetting-calamari-password.html">
          <i class="icon-plus-sign"></i> Read More </a>
	<hr />
      </div>
      
    </div>
      

 
        



    <div class='row-fluid'>
      <div class='article-title span9'> 
        <a href="https://arvimal.github.io/compacting-a-ceph-monitor-store.html"><h1>"Compacting a Ceph monitor store"</h1></a>
      </div>
    </div>
    <div class="row-fluid">
      <div class="span2">
<p>July 09, 2015 </p>

<p style="text-align: left;">
Filed under <a href="https://arvimal.github.io/category/misc.html">misc</a>
</p>
<p style="text-align: left;">
</p>
<p>
</p>
      </div>
      <div class="summary span8">
	<ul>
<li>"ceph"
tags:</li>
<li>"ceph"</li>
<li>"leveldb"</li>
<li>"monitors"</li>
</ul>
<hr>
<p>The Ceph monitor store growing to a big size is a common occurrence in a busy Ceph cluster.</p>
<p>If a '<em><strong>ceph -s</strong></em>' takes considerable time to return information, one of the possibility is the monitor database being large.</p>
<p>Other reasons included network lags between the …</p> 
	<a class="btn btn-mini xsmall" href="https://arvimal.github.io/compacting-a-ceph-monitor-store.html">
          <i class="icon-plus-sign"></i> Read More </a>
	<hr />
      </div>
      
    </div>
      

 
        



    <div class='row-fluid'>
      <div class='article-title span9'> 
        <a href="https://arvimal.github.io/what-is-data-scrubbing.html"><h1>"What is data scrubbing?"</h1></a>
      </div>
    </div>
    <div class="row-fluid">
      <div class="span2">
<p>July 08, 2015 </p>

<p style="text-align: left;">
Filed under <a href="https://arvimal.github.io/category/misc.html">misc</a>
</p>
<p style="text-align: left;">
</p>
<p>
</p>
      </div>
      <div class="summary span8">
	<ul>
<li>"ceph"
tags:</li>
<li>"ceph"</li>
<li>"osd"</li>
<li>"scrubbing"</li>
</ul>
<hr>
<p>Data Scrubbing is an error checking and correction method or routine check to ensure that the data on file systems are in pristine condition, and has no errors. Data integrity is of primary concern in today's conditions, given the humongous amounts of data being read …</p> 
	<a class="btn btn-mini xsmall" href="https://arvimal.github.io/what-is-data-scrubbing.html">
          <i class="icon-plus-sign"></i> Read More </a>
	<hr />
      </div>
      
    </div>
      

 
        



    <div class='row-fluid'>
      <div class='article-title span9'> 
        <a href="https://arvimal.github.io/another-method-to-dynamically-change-a-ceph-configuration.html"><h1>"Another method to dynamically change a Ceph configuration"</h1></a>
      </div>
    </div>
    <div class="row-fluid">
      <div class="span2">
<p>June 03, 2015 </p>

<p style="text-align: left;">
Filed under <a href="https://arvimal.github.io/category/misc.html">misc</a>
</p>
<p style="text-align: left;">
</p>
<p>
</p>
      </div>
      <div class="summary span8">
	<ul>
<li>"ceph"
tags:</li>
<li>"ceph"</li>
</ul>
<hr>
<p>In a previous post, we saw how to dynamically change a tunable on a running Ceph cluster dynamically. Unfortunately, such a change is not permanent, and will revert back to the previous setting once ceph is restarted.</p>
<p>Rather than using the command '<em><strong>ceph tell</strong></em>', I recently came …</p> 
	<a class="btn btn-mini xsmall" href="https://arvimal.github.io/another-method-to-dynamically-change-a-ceph-configuration.html">
          <i class="icon-plus-sign"></i> Read More </a>
	<hr />
      </div>
      
    </div>
      
<div class="pagination">
<ul>
    <li class="prev"><a href="https://arvimal.github.io/index3.html">&larr; Previous</a></li>

    <li class=""><a href="https://arvimal.github.io/index.html">1</a></li>
    <li class=""><a href="https://arvimal.github.io/index2.html">2</a></li>
    <li class=""><a href="https://arvimal.github.io/index3.html">3</a></li>
    <li class="active"><a href="https://arvimal.github.io/index4.html">4</a></li>
    <li class=""><a href="https://arvimal.github.io/index5.html">5</a></li>
    <li class=""><a href="https://arvimal.github.io/index6.html">6</a></li>
    <li class=""><a href="https://arvimal.github.io/index7.html">7</a></li>

    <li class="next"><a href="https://arvimal.github.io/index5.html">Next &rarr;</a></li>

</ul>
</div>

 
  
        </div>
        
        
    </div>     </div> </div>

<!--footer-->
<div class="container">
  <div class="well" style="background-color: #E9EFF6">
    <div id="blog-footer">
      <div class="row-fluid">
	<div class="social span2" align="center" id="socialist">
	  <ul class="nav nav-list">
	    <li class="nav-header">
	      Social
	    </li>
	    <li><a href="https://github.com/arvimal"><i class="icon-GitHub" style="color: #1f334b"></i>GitHub</a></li>
	    <li><a href="https://www.linkedin.com/in/arvimal/"><i class="icon-LinkedIn" style="color: #1f334b"></i>LinkedIn</a></li>
	    <li><a href="https://arvimal.blog/"><i class="icon-Blog" style="color: #1f334b"></i>Blog</a></li>

	  </ul>
	</div>
	<div class="site-nav span2" align="center">
          <ul class="nav nav-list" id="site-links">
            <li class="nav-header"> 
              Site
            </li>
            <li><a href="https://arvimal.github.io"><i class="icon-home" style="color: #1f334b">
                </i>Home</a></li>
            <li><a href="https://arvimal.github.io/archives.html"><i class="icon-list" style="color: #1f334b">
                </i>Archives</a></li>
	    <li><a href="https://arvimal.github.io/tags.html"><i class="icon-tags" style="color: #1f334b">
                </i>Tags</a></li>
	    
	  </ul>

        </div>

      </div> <!--end of fluid row-->
    </div> <!--end of blog-footer-->
    <hr />
    <p align="center"><a href="https://arvimal.github.io">arvimal.github.io</a>
      &copy; Vimal A.R
    Powered by <a href="https://github.com/getpelican/pelican">Pelican</a> and
        <a href="https://twitter.github.com/bootstrap">Twitter Bootstrap</a>. 
        Icons by <a href="https://fortawesome.github.com/Font-Awesome">Font Awesome</a> and 
        <a href="https://gregoryloucas.github.com/Font-Awesome-More">Font Awesome More</a></p>

  </div> <!--end of well -->
</div> <!--end of container -->

<!--/footer-->
<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.8.3/jquery.min.js"></script>
<script src="https://netdna.bootstrapcdn.com/twitter-bootstrap/2.2.2/js/bootstrap.min.js"></script>



</body>
</html>